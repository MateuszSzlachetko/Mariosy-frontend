<div class="container">
  <div class="back-button-container">
    <button class="back-button" type="button" (click)="navigateToHome()">
      <img src="assets/icons/left-arrow.svg" alt="" />
      BACK
    </button>
  </div>
  <div class="form-container">
    <form (ngSubmit)="onSubmit()" #f="ngForm">
      <ng-select
        [(ngModel)]="selected"
        name="userSelect"
        [multiple]="true"
        class="user-select"
        [placeholder]="userSelectPlaceholder"
        required
        #userSelect="ngModel"
      >
        <ng-option *ngFor="let user of users" [value]="user.externalId">
          {{ user.username }}
        </ng-option>
      </ng-select>
      <p *ngIf="!userSelect.valid && userSelect.touched" class="error-message">
        Please select some receivers
      </p>

      <div class="category-container">
        <div><label>Select category:</label></div>

        <mat-chip-listbox
          class="chips-container"
          ngModel
          name="chips"
          required
          #chipsListbox="ngModel"
        >
          <mat-basic-chip-option
            *ngFor="let chip of chips"
            [selected]="chip.selected"
            class="custom-chip"
          >
            <div class="chip-content">
              <img [src]="chip.iconSrc" alt="star-icon" />
              {{ chip.name }}
            </div>
          </mat-basic-chip-option>
        </mat-chip-listbox>
      </div>
      <p
        *ngIf="!chipsListbox.valid && chipsListbox.touched"
        class="error-message"
      >
        Please select a reaction
      </p>

      <div class="title-container">
        <div><label>Title:</label></div>
        <div>
          <input
            type="text"
            id="title"
            ngModel
            name="title"
            placeholder="Enter marios title"
            class="title-input"
            required
            #title="ngModel"
          />
        </div>
      </div>
      <p *ngIf="!title.valid && title.touched" class="error-message">
        Please leave a title
      </p>

      <div class="comment-container">
        <div><label>Comment:</label></div>
        <div>
          <textarea
            type="text"
            id="comment"
            [(ngModel)]="commentText"
            name="comment"
            class="comment-textarea"
            maxlength="255"
            required
            #comment="ngModel"
          ></textarea>
        </div>
        <div class="counter">{{ commentText.length }}/255</div>
      </div>
      <p *ngIf="!comment.valid && comment.touched" class="error-message">
        Please leave a comment
      </p>

      <div class="send-button-container">
        <button class="send-button" type="submit" [disabled]="!f.valid">
          SEND
        </button>
      </div>
    </form>
  </div>
</div>
